= Spring Integration Graph (integrationgraph)

`integrationgraph` 端点暴露了包含所有 Spring Integration 组件的图。

== 检索 Spring Integration Graph

要检索应用程序的相关信息，请发送 `GET` 请求到 `/actuator/integrationgraph`，如下基于 curl 的示例所示：

[source,bash]
----
curl 'http://localhost:8080/actuator/integrationgraph' -i -X GET
----

得到的响应类似于以下内容：

----
HTTP/1.1 200 OK
Content-Type: application/vnd.spring-boot.actuator.v3+json
Content-Length: 1033

{
  "contentDescriptor" : {
    "providerVersion" : "6.3.3",
    "providerFormatVersion" : 1.2,
    "provider" : "spring-integration"
  },
  "nodes" : [ {
    "nodeId" : 1,
    "componentType" : "null-channel",
    "integrationPatternType" : "null_channel",
    "integrationPatternCategory" : "messaging_channel",
    "properties" : { },
    "name" : "nullChannel",
    "observed" : false
  }, {
    "nodeId" : 2,
    "componentType" : "publish-subscribe-channel",
    "integrationPatternType" : "publish_subscribe_channel",
    "integrationPatternCategory" : "messaging_channel",
    "properties" : { },
    "name" : "errorChannel",
    "observed" : false
  }, {
    "nodeId" : 3,
    "componentType" : "logging-channel-adapter",
    "integrationPatternType" : "outbound_channel_adapter",
    "integrationPatternCategory" : "messaging_endpoint",
    "properties" : { },
    "input" : "errorChannel",
    "name" : "errorLogger",
    "observed" : false
  } ],
  "links" : [ {
    "from" : 2,
    "to" : 3,
    "type" : "input"
  } ]
}
----

=== 响应结构

响应包含应用程序中使用的所有 Spring Integration 组件以及它们之间的链接。有关结构的更多信息可以在 https://docs.spring.io/spring-integration/reference/6.3/graph.html[参考文档] 中找到。

== 重建 Spring Integration Graph

要重建暴露的图，请发送 `POST` 请求到 `/actuator/integrationgraph`，如下基于 curl 的示例所示：

[source,bash]
----
curl 'http://localhost:8080/actuator/integrationgraph' -i -X POST
----

这将返回 `204 - No Content` 响应。

----
HTTP/1.1 204 No Content
----
